import"../components/TravelItem.js";import"../components/CartComp.js";import"../components/CartIcon.js";import Travels,{travelLoader,applyFiltersFromURL,renderFilters,renderTravels}from"../modules/filter.js";document.addEventListener("DOMContentLoaded",(async()=>{console.log("gggggggg");const e=document.getElementById("travel-grid");await renderFilters(),await renderTravels();const t=await travelLoader();e.innerHTML=t.map((e=>`<travel-item\n               data-id="${e.id}" \n               data-title="${e.title}" \n               data-image="${e.image}" \n               data-location="${e.location}" \n               data-days="${e.days}" \n               data-price="${e.price}">\n          </travel-item>`)).join(""),document.querySelectorAll(".filter-group label").forEach((t=>{t.addEventListener("click",(async()=>{const t=await applyFiltersFromURL();e.innerHTML=t.map((e=>`<travel-item\n               data-id="${e.id}" \n               data-title="${e.title}" \n               data-image="${e.image}" \n               data-location="${e.location}" \n               data-days="${e.day}" \n               data-price="${e.price}">\n             </travel-item>`)).join("")}))})),e.addEventListener("addToCart",(e=>{const t={id:e.detail.id,title:e.detail.title,price:e.detail.price},a=document.querySelector("cart-comp");a&&(a.addToCart(t),a.style.display="block")})),document.getElementById("clear-filters").addEventListener("click",(async()=>{document.querySelectorAll(".filter-group input").forEach((e=>{e.checked=!1})),window.location.search="";const t=await travelLoader();e.innerHTML=t.map((e=>`<travel-item\n             data-id="${e.id}" \n             data-title="${e.title}" \n             data-image="${e.image}" \n             data-location="${e.location}" \n             data-days="${e.day}" \n             data-price="${e.price}">\n           </travel-item>`)).join("")})),document.getElementById("clear-filters").addEventListener("click",(function(){document.querySelectorAll(".filters input[type='range']").forEach((e=>{e.value=e.min}))}));document.querySelector("#toggle-theme").addEventListener("click",(()=>{document.body.classList.toggle("dark-mode"),document.body.classList.toggle("light-mode")})),document.addEventListener("showCard",(()=>{const e=document.querySelector("cart-comp");e&&e.toggle()}))}));